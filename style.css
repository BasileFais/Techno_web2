/* --------------------------------
   RESET & VARIABLES
-------------------------------- */
* { box-sizing: border-box; margin: 0; padding: 0; }

:root{
  --font: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --bg: #0e0e0e;
  --text: #eaeaea;
  --muted: #a1a1a6;
  --accent: #0d6efd;
  --card: #171717;
  --card-border: #2a2a2a;
  --radius: 14px;
  --shadow: 0 8px 28px rgba(0,0,0,.18);
  --header-h: 64px;
}

/* --------------------------------
   BASE
-------------------------------- */
html,body{ height:100%; }
body{
  background: var(--bg);
  color: var(--text);
  font-family: var(--font);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  padding-top: calc(var(--header-h) + 16px);
}
.container{ max-width: 1200px; margin: 0 auto; padding: 0 16px; }

/* Typography */
h1{
  font-size: clamp(1.6rem, 1.3rem + 1.5vw, 2.4rem);
  font-weight: 700;
  letter-spacing: -0.02em;
  text-align: center;
  margin: 12px 0 18px;
}
h2,h3{ font-weight: 700; color: var(--text); }
p{ color: var(--muted); }

/* --------------------------------
   HEADER
-------------------------------- */
header{
  position: fixed; top: 0; left: 0; width: 100%;
  height: var(--header-h);
  display: flex; align-items: center;
  backdrop-filter: blur(10px);
  background: rgba(20,20,20,.65);
  border-bottom: 1px solid rgba(255,255,255,.08);
  z-index: 1000;
}
.logo{ font-weight: 700; letter-spacing: .2px; }

/* --------------------------------
   FAVORIS (filtre + badge)
-------------------------------- */
.fav-filter{
  display: inline-flex; align-items: center; gap: .5rem;
  margin: 10px 0 14px;
}
.pill{
  display:inline-block; min-width:1.6em; padding:.1rem .45rem;
  border-radius:999px; background:#2a2a2a; color:#fff; font-weight:700;
}

/* --------------------------------
   CATALOGUE
-------------------------------- */
#catalogue{
  display: grid;
  gap: clamp(14px, 2vw, 24px);
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
}

/* Carte produit */
.appareil{
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 18px;
  display: flex; flex-direction: column;
}
.appareil h3{ font-size: 1.1rem; margin-bottom: 8px; }
.appareil ul{ list-style: none; margin: 8px 0 0; }
.appareil ul li{ color: var(--muted); font-size: .95rem; }

/* Carte favorite mise en évidence */
.appareil.is-fav{ outline: 2px solid #ffc107; outline-offset: 2px; }

/* Actions alignées (3 boutons) */
.actions{
  margin-top: auto;
  display: grid; grid-template-columns: repeat(3,1fr);
  gap: .6rem; align-items: stretch;
}
.actions button{
  width:100%; text-align:center; cursor:pointer;
  appearance:none;
  font: 600 14px/1.2 var(--font);
  padding: .55rem .85rem;
  border-radius: .6rem; border: 1px solid transparent;
  color: #fff; background: #6c757d;
}
.actions button:hover{ filter: brightness(.95); }
.actions button:active{ filter: brightness(.9); }
.actions button:focus-visible{ outline:2px solid #111; outline-offset:2px; }
.actions .edit-btn{ background:#0d6efd; border-color:#0b5ed7; }
.actions .delete-btn{ background:#dc3545; border-color:#bb2d3b; }
.actions .fav-btn{ background:#6c757d; border-color:#5c636a; }
.actions .fav-btn[aria-pressed="true"]{ background:#ffc107; border-color:#e0a800; color:#111; }

@media (max-width: 600px){
  .actions{ grid-template-columns: 1fr; }
}

/* --------------------------------
   AJOUTER UN APPAREIL (EN HAUT)
-------------------------------- */
#ajout.card{
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px;
  margin: 10px 0 18px;      /* espace avec le catalogue en dessous */
}
#ajout h2{ font-size: 1.2rem; margin-bottom: 10px; }

#form-ajout{
  display:grid; gap: .75rem;
  grid-template-columns: 1fr;                 /* mobile: 1 colonne */
}
@media (min-width: 640px){
  #form-ajout{ grid-template-columns: 1fr 1fr; } /* >=640px : 2 colonnes */
}
#form-ajout select,
#form-ajout input{
  width:100%;
  padding:.65rem .7rem;
  border-radius:.6rem;
  border:1px solid #2f2f2f;
  background:#1d1d1d;
  color:var(--text);
  font: 500 14px/1.2 var(--font);
  transition: border .2s ease, background .2s ease;
  grid-column: span 2; /* par défaut sur 2 colonnes si dispo */
}
@media (max-width: 639px){
  #form-ajout select, #form-ajout input{ grid-column: 1 / -1; }
}
/* Exemple si tu veux mettre résolution + ISO sur une même rangée :
#resolution, #iso{ grid-column: auto; }
*/

#ajout .btn-primary{
  grid-column: 1 / -1;
  padding:.75rem .9rem;
  border-radius:.7rem;
  border:1px solid #0b5ed7;
  background:#0d6efd; color:#fff;
  font-weight:700; cursor:pointer;
}
#ajout .btn-primary:hover{ filter:brightness(.95); }
#ajout .btn-primary:active{ filter:brightness(.9); }
#ajout .btn-primary:focus-visible{ outline:2px solid #111; outline-offset:2px; }

/* Visually hidden (pour labels accessibles) */
.sr-only{
  position:absolute !important; width:1px; height:1px;
  padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

/* --------------------------------
   MODALE <dialog> (édition)
-------------------------------- */
#modification{
  border:none; border-radius: var(--radius);
  padding: 16px; max-width: 560px; width: calc(100% - 2rem);
  background: var(--card); color: var(--text);
}
#modification::backdrop{ background: rgba(0,0,0,.45); backdrop-filter: blur(2px); }
#modification form{ display:grid; gap:.75rem; }
#modification label{ display:grid; gap:.35rem; font-weight:600; }
#modification input{
  padding:.6rem .7rem; border:1px solid #2f2f2f;
  border-radius:.6rem; background:#1d1d1d; color:var(--text);
}
.modal-actions{ display:flex; gap:.6rem; justify-content:flex-end; margin-top:.25rem; }

/* --------------------------------
   RESPONSIVE GLOBAL
-------------------------------- */
@media (max-width: 768px){
  .container{ padding: 0 12px; }
}
